import re
import nltk
from nltk.corpus import stopwords
from nltk.tokenize import sent_tokenize, word_tokenize
from collections import defaultdict

text = "Life is all about balance.You want to have a balanced bank account,balanced diet, balance between work and play,and a healthy inner ear to keep you from fallingdown all the time.And lots of things can mess up that balance.One bad night at the cheesecake factory and you might wake up with your finances, social life, and health out of whack.In science, our word for balance is equilibrium.You've heard of it.When the balance of some natural system getsdisrupted, we say that it's out of equilibrium,but that's not always a bad thing, becausenature usually finds a way to restore the balance.Like if a population of deer in a forest suddenlygoes nutsand there's too many of them, they'll runout of food and space,and predators will move in and the population will usually fall back to where the habitat can sustain it.Likewise, there's no reason that I can't enjoythe occasional hot pocketwithout destroying my so-called balanced diet,I just have to be sure to eat something that wasn't prepared in a salty lard factory to balance it out.We tend to think of chemical reactions ashaving a beginning and an end:you start with some reactants, some chemistry happens, and you end up with the products, and that's that.But that's not that, because you don't usuallyend up with pure products.Many chemical reactions seek balance too,and just like us, they have to work throughthe stress in order to find it.[Theme Music]It's common, because it's usually helpful, to think of chemical reactions as simple straightforward processes,but in reality, many reactions never finish.Ever.When reactants react to form products, what we usually mean when we talk about chemical reactions,it's technically called the forward reaction.But sometimes, there's an opposite reaction that occurs with the products changing back into the reactants.We call this a reverse reaction.Now, exactly what kind of reactions do this,and why,is hard to describe without busting out some200 level chemistry kung fu,but it all goes back to our lesson about Gibb'sfree energy and reactions that occur spontaneously.Reactions are reversible when they can go forward or backward without any extra energy being used.Remember, this isn't just one reaction happeningonce, it's billions and trillions of reactions,and some of them might be going one way whileothers are going another way.And when the forward and reverse reactions occur at the same rate, that's called chemical equilibrium.And even though we all like the idea of balance in our lives, in this case it's not always a desirable thing.In fact, most chemists make their living usingtricks to prevent chemical equilibrium,to knock it out of whack, maximizing the concentrationsof the chemicals they want to produceat the expense of the balance that natureusually seeks.For example, consider the Haber process formaking ammonia from nitrogen in the air.When we discussed it as a redox reaction afew weeks ago,we described it as a one way, complete reaction because that's all we needed to understand right then.But I was lying to you.Sorry, I'd rather you hear it from me thanout on the streets.Turns out, the reaction really exists as anequilibrium.As nitrogen and hydrogen react to form ammonia,the concentration of those gases drops,making them less likely to collide and keep reacting, so the rate of the forward reaction slows down.At the same time, the concentration of ammoniarises.More ammonia molecules are available to breakup into the reactant gases.And surprise, the rate of the reverse reactionspeeds up.Eventually, those processes reach a pointwhere they happen at the same rate.At that point, there's no discernible changein the concentration of any gas.Nitrogen and hydrogen keep combining to formammonia,while ammonia keeps breaking down into nitrogenand hydrogen at the same time.Notice that I did not say that the reactionstops.The reaction basically never stops, it's justthat we don't notice any changes at that point,because everything that happens in one direction is perfectly balanced out by what happens in the other direction.That's why reactants like this are written with a double arrow, indicating that the process runs both directions.Like if I stand on a balanced board, I neverstop moving.I just shift my body back and forth to compensatefor the motion of the board.When it moves left, I move right and vice versa, and by doing that, I'm able to stay upright, hopefully.But sometimes there is, if you will, a disturbancein the force,and as any good Jedi knows, those things mustbe put right.Chemical equilibria can be disturbed by changesin the concentration of one or more substancesor by changes in temperature or pressure.We describe these changes based on which waythey force the equilibrium.We say a change shifts the reaction to theright if it tends to make more products formand to the left if it tends to make more reactantsform.This was all summarized nicely by a French chemist named Henry Louis Le Châtelier who was born in Paris in 1850.Today, we call call his summary Le Châtelier'sPrinciple,and it says that if stress is placed on asystem that is at equilibriumthe system will proceed in a direction thatminimizes the stress.That can happen in several ways.For starters, changing the concentration ofany substance in a reactioncauses it to proceed in whatever directionrestores the former balance.For example, once the Haber reaction is at equilibrium if you were to add more nitrogen gas to the mixthe existing hydrogen would have more nitrogento react with.Thus, it would begin forming more ammonia,sending the reaction noticeably to the rightuntil the reaction balances itself again.Removing some of the ammonia would have thesame effect.There would be less ammonia available to breakdown,so the formation of the ammonia would temporarilyexceed the formation of nitrogen and hydrogen,and the reaction would again shift to theright until the balance is restored.Now here's an ironic side of irony servedup for you.In 1901, Le Châtelier tried to invent a process for fixing nitrogen to make ammonia from nitrogen and hydrogen.But he gave up the effort after the experiment caused a huge explosion that killed one of his lab assistants.8 years later, the German chemist, Fritz Haber,probably the closest the world ever got to a literal evil genius, did just what Le Châtelier was trying to do.And in contrast to Le Châtelier's despairat the death of his assistant,Haber had no problem at all with the fact that his procedure now known as the Haber Processwas used to make chemical explosives which killed hundreds of thousands of people in World Wars I & II.But just to prove that there aren't clearwinners or losers in science,the Haber Process also saved uncounted millionsof livesbecause the ability to fix nitrogen has madechemical fertilizers possible,and basically revolutionized modern agriculture.Haber was awarded the 1918 Nobel Prize forhis discovery,but 30 years later he was considered by manyto be a war criminaland spent his last years as an object of shameto his family and hatred for many others.Le Châtelier, meanwhile despite his greatcontributions to our understanding of equilibrium,considered his failure to find an efficient method for making ammonia to be the greatest blunder of his scientific career.One of the key achievements that Haber madewasfiguring out a way to continuously removeammonia as it was being produced.This allowed the forward reaction to keepgoing faster than the reverse reaction.Basically preventing the process from reachinga state of equilibrium.But changing concentrations is only one partor actually one third of the story.There's also pressure to consider.When you look at the equation for the HaberProcess, for example,you can see that 4 moles of gas react to form2 moles of gas.So the forward reaction decreases the volumewhile the reverse reaction increases it.This is important.Increasing the pressure will then put more stress on the high volume reactants than the low volume products,so the reaction shifts to the right, producingmore ammonia than it does at low pressure.And indeed, the industrial Haber Process isdone at two hundred atmospheres of pressure.Decreasing the pressure, meanwhile, has theopposite effect.The reaction precedes in the direction thatraises the pressure back to where it was before.In this case that's the break-down of ammonia.Toward the left where there are 4 moles ofgas.Solids and liquids aren't affected by pressureas much,so the more gasses that are present in the reaction, the greater effect any pressure change will have.The third and final way to affect the positionof equilibrium is with temperature changes.It gets a bit complicated up in here,but basically the thing to keep in mind is that endothermic reactions, which consume heat,are favored if heat is added so higher temperaturestend to feed endothermic reactions.And by the same token, exothermic reactions,which release heat fair better at low temperatures.And since exothermic reactions produce heat, that heat tends to favor the reverse endothermic reactions.So if heat is added to reaction, it forcesthe reaction back to the left.But if heat is removed by cooling the reaction mixture, the reaction will proceed to the right.Now, you may be wondering since battling equilibriumis what most chemists do for a living,how they work out the specifics of it.How do they determine how much of each substanceis present, or how much they need to add,or what the temperature or pressure shouldbe when everything is constantly changing.You probably won't be surprised to learn thatthere is math we can do to answer those questions.We'll get into the numbers in our next lesson.But right now, let's have some fun.I've been talking about the Haber Process because it's a simple reaction, it's an important reaction.And because it's one of the main reactionsthat Le Châtelier studied.But it's not very interesting to watch.A much more interesting reaction involves 2 different ions of cobalt that reach equilibrium in an endothermic reaction.As you can see, one of the ions is pink inaqueous solution and the other is blue.One stress I can put on this system is theaddition of hydrochloric acid.This increases the chloride ion concentration and pushes the reaction to the right, the blue side.And if I add water, the reaction is pushedright back to the left, pink. Cool, right?I can also stress the reaction by changingits temperature.If I raise the temperature, it's like adding a reactant so the reaction will proceed to the right.You use it up and turn blue again.You can probably guess by now that if I lowerthe temperatureit's like taking away some reactants so thereaction proceeds to the left and turns pink.We could make these colors go back and forthall day by making changes to the reaction,but I think you're getting the idea.Equilibrium isn't about staying the same allthe time,it's just about keeping your balance as yourcircumstances change.And now it is time for me to go get a niceGreek salad to help balance outthe corn dogs that I may or may not have eatenthis weekend.But first thank you for watching this episodeof Crash Course Chemistry.If you paid attention, you learned that equilibriumis just a fancy word for balance,which is a thing that chemical reactions needjust as much as we do.And that the way they achieve balance is tocompensate for change, not just to stop completely.You also learned and saw that chemical equilibriumcan be affected by the concentration of substancestheir temperatures, and if they're gasses,their pressure.Finally, you learned about Le Châtelier'sprinciple of chemical equilibriumand about his failed attempt to do what FritzHaber eventually did.Invent an efficient process to produce ammonia.This episode of Crash Course Chemistry waswritten by Edi Gonzales.This script was edited by Blake de Pastino. And our chemistry consultant was Dr. Heiko Langner.It was filmed, edited, and directed by NicholasJenkins. Our script supervisor, Katherine Green.And our sound designer is Michael Aranda.And of course, our graphic team is Thought Cafe."

nltk.download('punkt')
nltk.download('stopwords')
sentences = sent_tokenize(text)

# Remove stop words and tokenize each sentence into words
stop_words = set(stopwords.words('english'))
word_tokens = [word_tokenize(sentence.lower()) for sentence in sentences]
filtered_sentences = [[word for word in sentence if word not in stop_words] for sentence in word_tokens]

# Calculate the frequency of each word
word_freq = defaultdict(int)
for sentence in filtered_sentences:
    for word in sentence:
        word_freq[word] += 1

# Calculate the score for each sentence
sentence_scores = defaultdict(int)
for i, sentence in enumerate(filtered_sentences):
    for word in sentence:
        sentence_scores[i] += word_freq[word]

# Select the top-scoring sentence as the summary
summary_index = max(sentence_scores, key=sentence_scores.get)
summary = sentences[summary_index]

print(f"One-sentence summary: {summary}")

